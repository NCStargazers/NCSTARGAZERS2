<!DOCTYPE html>
<html lang="en">
<head>
    <title>Best of tonight:</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Best of tonight:</h1>
    <p>New Canaan, CT</p>
    <p>41° 8' 47" N. 73° 29' 43" W.</p>
    <div id="dateContainer"></div>
    <h2 class="info">Light Pollution = <span class="number">9</span></h2>
    <div id="moonPhaseContainer"></div>
    <div id="astronomyData"></div>
    
    <script>
    window.onload = function() {
        document.getElementById('dateContainer').innerHTML = new Date().toLocaleString();
        
        // Moon Phase Calculation
        function getMoonPhase() {
            const lunarMonth = 29.53058867;
            const newMoonDate = new Date('2024-07-05');
            const today = new Date();
            const diffInDays = (today - newMoonDate) / (1000 * 3600 * 24);
            const moonAge = diffInDays % lunarMonth;
            if (moonAge < 1.84566) return "New Moon";
            else if (moonAge < 5.53699) return "Waxing Crescent";
            else if (moonAge < 9.22831) return "First Quarter";
            else if (moonAge < 12.91963) return "Waxing Gibbous";
            else if (moonAge < 16.61096) return "Full Moon";
            else if (moonAge < 20.30228) return "Waning Gibbous";
            else if (moonAge < 23.99361) return "Last Quarter";
            else if (moonAge < 27.68493) return "Waning Crescent";
            else return "New Moon";
        }
        
        const moonPhase = getMoonPhase();
        document.getElementById('moonPhaseContainer').innerHTML = "Moon Phase: " + moonPhase;
        
        // Celestial Objects Data
        const celestialObjects = [
            { name: "Mars", visible: true, minLightPollution: 7, moonPhase: ["Full Moon", "New Moon"] },
            { name: "Venus", visible: true, minLightPollution: 9, moonPhase: ["First Quarter", "Waxing Crescent"] },
            { name: "Saturn", visible: true, minLightPollution: 8, moonPhase: ["Waning Gibbous", "Waning Crescent"] },
            { name: "Orion", visible: true, minLightPollution: 6, moonPhase: ["Any"] },
            // Add more objects as needed
        ];
        
        // Light Pollution Value
        const lightPollution = 9; // Current light pollution value, could be dynamically updated later

        // Function to check visibility
        function isVisible(object) {
            return lightPollution <= object.minLightPollution && 
                   (object.moonPhase.includes("Any") || object.moonPhase.includes(moonPhase));
        }
        
    };
    </script>
    <div>
    <a href="NCStargazers3.html">
        <button class="back">Back</button>
    </a>
    </div>
</body>
</html>
